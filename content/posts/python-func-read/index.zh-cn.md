---
title: "python | read 函数"
date: 2023-04-14T23:23:11+08:00
draft: false
tags: ["python", "字节"]
categories: ["python"]
---
最近在研究 python 文件读取的时候，发现有人这么写代码，说这个 read(n) 函数里面的形参 n 是字节的意思，但其实这个 n 真正的意思是**字符个数**，所以有些文章可能有些误导。

```python
with open(r'/usr/demo.txt', 'r', encoding='utf-8') as f:
    file = f.read(1024*1024)
```
# 存储单位换算关系

| 单位| 关系| 说明 |
|--|--|--|
|bit（binary digit）比特||这是表示信息的最小单位，它只能表示 0 或 1。|
| byte（字节）B|1 byte (B) = 8 bit，一个英文字母1字节 |其表示的值范围是0 ~ 255(无符号) 或 -127~127(有符号)，而一个汉字的占两个字节，因为8 bit 不够 |
| KB（Kilobyte）| 1 KB = 1024 byte| |
|Megabyte | 1 MB = 1024 KB| |
| Gigabyte| 1 GB = 1024 MB| |
| Terabyte| 1 TB = 1024 GB| |
# 不同类型字符所占字节大小的区别
> 在Unicode编码中，一个英文字符占1 bytes，一个汉字占2 bytes。

但一个文本里面,语言的不同也会影响单个字符所占字节大小。
|文本构成|单个字符所占字节大小|
|--|--|
|英文、`\n`、`\t`|1||
|汉字、`\n`、`\t`|2||
|英文、汉字、`\n`、`\t`|2||

故，按照上面的换算关系：
如果是纯英文文本，一次读取 `1024*1024` 个字符，实际上就是一次读取1 MB；
但如果文本包含中文，一次读取 `1024*1024` 个字符就不是1 MB了，实际是`1024*1024*2` byte, 就是2 MB了。

所以这个 n 真正的意思是**字符个数**。





